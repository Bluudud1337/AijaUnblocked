<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Embeddable Tabbed Browser</title>
<style>
body {
    font-family: Arial, sans-serif;
    background-color: #000;
    color: white;
    margin: 0;
    padding: 0;
}
.browser-container {
    width: 100%;
    height: 100vh;
    display: flex;
    flex-direction: column;
    background-color: #111;
    border: 2px solid #8000ff;
    border-radius: 10px;
    overflow: hidden;
}

/* Tabs */
.tabs-bar {
    display: flex;
    background-color: #000;
    padding: 5px;
    overflow-x: auto;
}
.tab {
    padding: 8px 15px;
    background-color: #222;
    color: white;
    margin-right: 5px;
    border-radius: 6px 6px 0 0;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 5px;
    user-select: none;
}
.tab.active {
    background-color: #8000ff;
    font-weight: bold;
}
.tab button.close-tab {
    background: none;
    border: none;
    color: white;
    cursor: pointer;
    font-weight: bold;
}

/* Browser controls */
.browser-bar {
    display: flex;
    padding: 10px;
    background-color: #000;
    align-items: center;
    gap: 5px;
}
.browser-bar input {
    flex: 1;
    padding: 8px 12px;
    border-radius: 6px;
    border: 2px solid #8000ff;
    background-color: #111;
    color: white;
    outline: none;
}
.browser-bar input::placeholder { color: #aaa; }
.browser-bar button {
    padding: 8px 12px;
    border: none;
    border-radius: 6px;
    background-color: #3d0078;
    color: white;
    cursor: pointer;
    font-weight: bold;
}
.browser-bar button:hover { background-color: #5a00e7; }
iframe { flex: 1; width: 100%; border: none; }
</style>
</head>
<body>

<div class="browser-container">
    <div class="tabs-bar" id="tabsBar"></div>
    <div class="browser-bar">
        <button id="backBtn">‚¨ÖÔ∏è</button>
        <button id="forwardBtn">‚û°Ô∏è</button>
        <button id="reloadBtn">üîÑ</button>
        <input type="text" id="urlInput" placeholder="Enter URL..." onkeydown="if(event.key==='Enter'){loadURL();}">
        <button id="goBtn">Go</button>
        <button id="newTabBtn">‚ûï New Tab</button>
    </div>
    <iframe id="browserFrame" src=""></iframe>
</div>

<script>
// ===================== Tab & History Management =====================
let tabs = [];
let currentTabIndex = 0;

// Replace this with your own Replit proxy URL if you host one
const proxyBase = "https://embeddable-proxy-example.repl.co/?url=";

// Start with DuckDuckGo
addTab("https://duckduckgo.com");

// Add a new tab
function addTab(initialURL = "https://duckduckgo.com") {
    const newTab = {
        url: initialURL,
        history: [initialURL],
        currentIndex: 0
    };
    tabs.push(newTab);
    currentTabIndex = tabs.length - 1;
    renderTabs();
    loadCurrentTab();
}

// Close a tab
function closeTab(index) {
    if (tabs.length === 1) return; // keep at least one tab
    tabs.splice(index, 1);
    if (currentTabIndex >= tabs.length) currentTabIndex = tabs.length - 1;
    renderTabs();
    loadCurrentTab();
}

// Switch to a tab
function switchTab(index) {
    currentTabIndex = index;
    renderTabs();
    loadCurrentTab();
}

// Render tabs
function renderTabs() {
    const tabsBar = document.getElementById("tabsBar");
    tabsBar.inne
